{% load admin_urls %}
{% load static %}

{% if user.is_authenticated %}
<link rel="stylesheet" href="{% static 'css/icon_styles.css' %}">
<script defer type="module" src="{% static 'js/navbar.js' %}"></script>


<div class="w-full text-gray-700 bg-white dark:text-gray-200 dark:bg-gray-800 nav-container">

  <div class="px-4 pt-2">
    <div class="flex flex-col md:items-center md:justify-between md:flex-row max-w-screen-xl mx-auto">
      <!-- Name of company -->
      <div class="flex flex-row items-center justify-between">
        <a href="{% url home %}" class="pb-1 text-lg font-semibold tracking-widest text-gray-900 uppercase rounded-lg dark:text-white focus:outline-none focus:shadow-outline">Rivia Solutions</a>
        
        <button id="mobile-menu-button" class="md:hidden rounded-lg focus:outline-none focus:shadow-outline">
          <svg fill="currentColor" viewBox="0 0 20 20" class="w-6 h-6">
            <path id="mobile-menu-open-icon" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"></path>
            <path id="mobile-menu-close-icon" class="hidden" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
          </svg>
        </button>
      </div>
      
            <!-- secondary navbar -->
            <div id="secondary-nav" class="nav-shortcuts flex-grow">
              <!-- Secondary navigation links will be inserted here -->
            </div>
            <!-- end secondary navbar -->
      
      <!-- main navbar  -->
      <nav id="main-nav" class="hidden pb-4 flex-col md:flex md:pb-0 md:flex-row justify-center z-50">
        <!-- Primary navigation links will be inserted here -->
      </nav>
      <!-- end main navbar  -->
    </div>
  </div>



</div>

<template id="nav-link-template">
  <a data-link-item class="px-3.5 py-1.5 block text-sm font-semibold bg-transparent rounded-lg dark:bg-transparent dark:hover:bg-gray-600 dark:focus:bg-gray-600 dark:focus:text-white dark:hover:text-white dark:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"></a>
</template>

<template id="nav-group-template">
  <div class="relative" data-link-group>
    <button data-link-group-btn class="px-3.5 py-1.5 flex flex-row items-center w-full text-sm font-semibold text-left bg-transparent rounded-lg dark:bg-transparent dark:focus:text-white dark:hover:text-white dark:focus:bg-gray-600 dark:hover:bg-gray-600 md:inline hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline">
      <span data-group-name></span>
      <svg fill="currentColor" viewBox="0 0 20 20" class="inline w-4 h-4 ml-1 transition-transform duration-200 transform">
        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
      </svg>
    </button>
    <div data-links-wrapper class="absolute absolute-centerX right-0 min-w-max origin-top-right rounded-md shadow-lg md:w-28 z-50 hidden border-[1px] border-indigo-500">
      <div data-links-container class="px-1 py-1 bg-white rounded-md shadow dark:bg-gray-800">
      </div>
    </div>
  </div>
</template>

<template id="secondary-nav-item-template">
    <span class="tooltip-container">
      <a class="block px-3.5 py-1 text-sm font-semibold bg-transparent rounded-lg dark:bg-transparent dark:hover:bg-gray-600 dark:focus:bg-gray-600 dark:focus:text-white dark:hover:text-white dark:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline">
        <img class="icon" src="" alt="">
        <span class="tooltip-message" data-link-title></span>
      </a>
    </span>
</template>



<script>
/* DON'T MODIFY/TOUCH THIS BLOCK */
window.NAV_LINKS = {
  "primary": [
    {
      name: "Tracker",
      url: "{% url Merged_Tracker_home_name %}",
    },
    
    {% comment %} 
    {
      groupName: "Test nest",
      urls: [
        {
          name: "Create",
          url: "{% url Selfassesment_create_name %}",
        },
        {
          groupName: "Nest 2",
          urls: [
            {
              name: "Create",
              url: "{% url Selfassesment_create_name %}",
            },
            {
              groupName: "Nest 3",
              urls: [
                {
                  name: "Create",
                  url: "{% url Selfassesment_Account_Submission_create_name %}",
                },
                {
                  name: "View",
                  url: "{% url Selfassesment_Account_Submission_home_name %}",
                },
              ]
            },
          ]
        },
      ]
    },
    {% endcomment %}

    {
      groupName: "Selfassesment",
      urls: [
        {
          name: "Create",
          url: "{% url Selfassesment_create_name %}",
        },
        {
          name: "View",
          url: "{% url Selfassesment_home_name %}",
        },

        {
          groupName: "Account Submission",
          urls: [
            {
              name: "Create",
              url: "{% url Selfassesment_Account_Submission_create_name %}",
            },
            {
              name: "View",
              url: "{% url Selfassesment_Account_Submission_home_name %}",
            },
          ]
        },

        {
          name: "Data Collection",
          url: "{% url Selfassesment_Data_Collection_home_name %}",
        },
      ]
    },

    {
      groupName: "Limited",
      urls: [
        {
          name: "Create",
          url: "{% url Limited_create_name %}",
        },
        {
          name: "View",
          url: "{% url Limited_home_name %}",
        },
        {
          groupName: "Submission Deadline Tracker",
          urls: [
            {
              name: "Create",
              url: "{% url Limited_Submission_Deadline_Tracker_create_name %}",
            },
            {
              name: "View",
              url: "{% url Limited_Submission_Deadline_Tracker_home_name %}",
            },
          ]
        },

        {
          groupName: "VAT Tracker",
          urls: [
            {
              name: "Create",
              url: "{% url Limited_VAT_Tracker_create_name %}",
            },
            {
              name: "View",
              url: "{% url Limited_VAT_Tracker_home_name %}",
            },
          ]
        },

        {
          groupName: "Confirmation Statement Tracker",
          urls: [
            {
              name: "Create",
              url: "{% url Limited_Confirmation_Statement_Tracker_create_name %}",
            },
            {
              name: "View",
              url: "{% url Limited_Confirmation_Statement_Tracker_home_name %}",
            },
          ]
        },
      ]
    },
    
    {
      groupName: "ðŸ‘¥{{ user.first_name }}",
      // experimental nav_bar_merged
      extraClassList: ['flex', 'flex-col', 'gap-2'],
      // extraClassList: ['flex', 'flex-col', 'gap-2', 'right-0'],
      // removeClassList: ['absolute-centerX'],
      // doNotAdjustPosition: true,
      urls: [
        {% if user.is_superuser %}
          {
            name: "Admin Panel",
            url: "{% url 'admin:index' %}",
            extraClassList: ['create']
          },
          {
            name: "Logout",
            url: "{% url 'users_logout' %}",
            extraClassList: ['delete'],
          },
        {% elif user.is_staff %}
          {
            name: "Logout",
            url: "{% url 'users_logout' %}",
            extraClassList: ['delete'],
          },
        {% elif not user.is_authenticated %}
          {
            name: "Login",
            url: "{% url 'users_login' %}",
            extraClassList: ['update'],
          },
        {% endif %}
      ]
    },
  ],

  "secondary": [
    {
      name: "Tracker",
      url: "{% url Merged_Tracker_home_name %}",
      iconImgSrc: "{% static 'companies/tracker.png' %}",
    },
    {
      name: "Selfassesment",
      url: "{% url Selfassesment_home_name %}",
      iconImgSrc: "{% static 'companies/selfassesment.png' %}",
    },
    {
      name: "Selfassesment Account Submission",
      url: "{% url Selfassesment_Account_Submission_home_name %}",
      iconImgSrc: "{% static 'companies/selfassesmentSubmission.png' %}",
    },
    {
      name: "Limited",
      url: "{% url Limited_home_name %}",
      iconImgSrc: "{% static 'companies/limited.png' %}",
    },
    {
      name: "Limited Submission",
      url: "{% url Limited_Submission_Deadline_Tracker_home_name %}",
      iconImgSrc: "{% static 'companies/limitedSubmission.png' %}",
    },
  ]
}
</script>

{% endif %}
